1ï¸âƒ£ What is Regex (plain English)

Regex = a pattern to match text

You use it to answer questions like:

Does this string look like an email?

Does it contain only numbers?

Does it start with https://?

Can I extract part of it?

Think of it as Ctrl+F on steroids.

2ï¸âƒ£ Regex in Ruby (the base)

Rails uses Ruby regex, so first Ruby basics.

Create a regex
/pattern/


Example:

/hello/

Match a string
"hello world".match(/hello/)
# => #<MatchData "hello">

Boolean match
"hello".match?(/hello/)
# => true


ğŸ’¡ Rails validations use match? internally â†’ fast & clean.

3ï¸âƒ£ Most important building blocks
3.1 Exact characters
/cat/


Matches:

âŒ CAT

âŒ c a t

âœ… cat

Regex is case-sensitive by default.

3.2 Character classes [ ]

Match one character from a set.

/[abc]/


Matches a or b or c

/[0-9]/


Matches any digit

/[a-zA-Z]/


Matches any letter

3.3 Common shortcuts (ğŸ”¥ memorize these)
Pattern	Meaning
\d	digit (0â€“9)
\D	not digit
\w	letter, number, underscore
\W	not word
\s	space
\S	not space
.	any character

Example:

/\d\d\d/


Matches 123

4ï¸âƒ£ Quantifiers (how many times)

These answer: â€œhow many characters?â€

Symbol	Meaning
*	0 or more
+	1 or more
?	0 or 1
{n}	exactly n
{n,}	at least n
{n,m}	between n and m

Examples:

/\d+/


Matches: 1, 123, 9999

/\d{10}/


Matches exactly 10 digits (phone numbers ğŸ”¥)

5ï¸âƒ£ Anchors (VERY important in Rails validations)

Anchors lock start and end of string.

Anchor	Meaning
^	start of string
$	end of string
Without anchors (âŒ common mistake)
"abc123xyz".match?(/\d+/)
# true

With anchors (âœ… correct)
"123".match?(/^\d+$/)
# true

"abc123".match?(/^\d+$/)
# false


ğŸ‘‰ Rails validations almost always need anchors

6ï¸âƒ£ Groups ( )

Groups let you:

Extract values

Apply quantifiers together

/(ab)+/


Matches:

ab

abab

ababab

Extracting:

match = "2026-02-04".match(/(\d{4})-(\d{2})-(\d{2})/)
match[1] # year
match[2] # month
match[3] # day

7ï¸âƒ£ Regex in Rails validations (real usage)
7.1 Email validation (simple & interview-safe)
validates :email,
  format: {
    with: /\A[^@\s]+@[^@\s]+\.[^@\s]+\z/,
    message: "invalid email"
  }


Why:

\A â†’ start of string (better than ^)

\z â†’ end of string

No spaces

Must contain @ and .

ğŸ“Œ Interview tip:

â€œWe avoid overly complex email regex; let mail servers do the real validation.â€

7.2 Phone number (India example)
validates :phone,
  format: {
    with: /\A[6-9]\d{9}\z/
  }


Explanation:

Starts with 6â€“9

Total 10 digits

7.3 Username
validates :username,
  format: {
    with: /\A[a-zA-Z0-9_]+\z/
  }


Only:

letters

numbers

underscore

8ï¸âƒ£ \A vs ^ (INTERVIEW GOLD)
Symbol	Meaning
^	start of line
\A	start of string
$	end of line
\z	end of string

Rails uses \A and \z because:

Multiline input exists

Safer and predictable

ğŸ“Œ Say this in interviews â†’ instant points.

9ï¸âƒ£ Common Rails mistakes âŒ
âŒ Missing anchors
/\d{10}/


Matches:

abc1234567890xyz âŒ

âœ… Correct
/\A\d{10}\z/

âŒ Over-engineering regex
# unreadable monster regex

âœ… Simple + readable
/\A[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}\z/i

ğŸ”Ÿ Practice (you should try these)

Tell me what matches:

1ï¸âƒ£ /\A\d+\z/ with "123abc"
2ï¸âƒ£ /[a-z]+/ with "123abc456"
3ï¸âƒ£ /\A[a-z]+\z/ with "abcDEF"