ğŸ“˜ Where do Chapters fit in the LMS?
Hierarchy (clear mental model)
Program
  â””â”€â”€ Course
        â””â”€â”€ Chapter
              â””â”€â”€ Content (video / quiz / reading)


Programs do not directly own chapters.
Chapters belong to courses.

Say this sentence confidently â€” itâ€™s important.

ğŸ§± Data Modeling with Chapters
chapters
id
course_id
title
position


course_id â†’ FK to courses

position â†’ order within course

Optional: chapter_contents
id
chapter_id
content_type (video, quiz, doc)
position
duration


This keeps chapters clean and extensible.

ğŸ§  Why chapters belong to courses (not programs)

â€œChapters are course-specific learning units.
Since courses can be reused across programs, attaching chapters to programs would cause duplication and inconsistencies.â€

That line = architect-approved âœ…

ğŸ¯ Tracking Chapter Progress
â“ Where does chapter completion live?
âœ… Correct place:

On user â†” chapter relationship

chapter_progress
id
user_id
chapter_id
status (not_started, in_progress, completed)
completion_percentage
completed_at

ğŸ” How progress rolls up (important)
Chapter â†’ Course â†’ Program

Chapter progress updates

Course progress recalculated

Program progress recalculated

â€œProgress rolls up hierarchically but is stored at enrollment levels for performance.â€

ğŸ”¥ Senior-level phrasing.

ğŸ” Likely interview follow-ups
â€œWhy not store chapter progress inside course_enrollments?â€

Answer:

â€œBecause chapters are independent units and storing per-chapter state inside a course enrollment would be unscalable and hard to query.â€

â€œHow do you calculate course completion?â€

Answer:

â€œCourse completion is derived from chapter completionâ€”either via simple average, weighted average, or mandatory rules.â€

â€œWhat if chapters are reordered?â€

Answer:

â€œOrdering is handled via a position column, and reordering doesnâ€™t affect progress because progress is chapter-based.â€

âš ï¸ Common mistakes to avoid

âŒ chapters under programs

âŒ JSON blobs for progress

âŒ progress only in frontend

ğŸ§  20-second summary (say this if short on time)

â€œChapters belong to courses, not programs.
We tracked chapter-level progress per user and rolled it up to course and program progress, persisting aggregated values for fast reads.â€