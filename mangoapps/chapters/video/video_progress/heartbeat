ğŸ” What â€œheartbeatâ€ really means

A heartbeat is a lightweight, periodic signal sent from the video player to the backend to say:

â€œThe user is still watching, and this is where they are.â€

Example:

Every 5â€“15 seconds

Very small payload

Fire-and-forget style

ğŸ§± Concrete example
Frontend
setInterval(() => {
  fetch("/video_progress", {
    method: "POST",
    body: JSON.stringify({
      video_id: 55,
      current_time: player.currentTime
    })
  })
}, 10000)

Backend
progress.last_watched_second =
  [progress.last_watched_second, current_time].max

progress.save!

ğŸ¤” Why not update on every second?

Architect reasons:

Too many DB writes

Too much network chatter

No real accuracy gain

10 seconds is usually good enough.

Interview line:

â€œWe trade millisecond accuracy for system efficiency.â€

ğŸ›¡ï¸ Important safeguards (mention these)

Heartbeat is trusted but verified:

Ignore time jumps that are too large

Cap progress increase per heartbeat

Never decrease last_watched_second

Validate against video duration

This prevents cheating.

ğŸ§  One-sentence interview answer

If they ask:

â€œWhat do you mean by heartbeat?â€

Say:

â€œA heartbeat is a periodic API call from the video player that sends the current playback position so the backend can persist progress reliably.â€

ğŸš€ Extra credit (optional but impressive)

You can add:

â€œHeartbeat frequency is configurable and may be increased or decreased based on traffic and accuracy needs.â€