def valid_parentheses(s)
  stack = []
  pairs = {
    ')' => '(',
    ']' => '[',
    '}' => '{'
  }

  s.each_char do |ch|
    # Opening bracket → push to stack
    if pairs.values.include?(ch)
      stack << ch
    # Closing bracket → must match top of stack
    elsif pairs.key?(ch)
      return false if stack.empty? || stack.pop != pairs[ch]
    end
  end

  stack.empty?
end

# Tests
p valid_parentheses("()")        # true
p valid_parentheses("()[]{}")    # true
p valid_parentheses("(]")        # false
p valid_parentheses("([)]")      # false
p valid_parentheses("{[]}")      # true
