What is sharding in databases?

Sharding means splitting one large database into multiple smaller databases (shards) so that:

data is distributed

load is shared

system scales horizontally

Each shard holds only a portion of the data, not the whole dataset.

Why sharding is needed

Single database problems at scale:

CPU bottleneck

Disk I/O bottleneck

Huge indexes â†’ slow queries

Hard limits on vertical scaling

ğŸ‘‰ Sharding fixes this by adding more databases instead of bigger ones.

Simple mental model ğŸ§ 

Instead of:

1 huge database
  â””â”€â”€ users table (1â€“100M rows)


You do:

Shard 1 â†’ users 1â€“25M
Shard 2 â†’ users 26â€“50M
Shard 3 â†’ users 51â€“75M
Shard 4 â†’ users 76â€“100M

How data is split (shard key)

You must choose a shard key.

Common shard keys:

user_id

account_id

tenant_id

region

Example:

user_id % 4

user_id	shard
1	shard 1
2	shard 2
3	shard 3
4	shard 4
Types of sharding
1ï¸âƒ£ Horizontal sharding (most common)

Split rows across databases.

users(id=1..100) â†’ shard A
users(id=101..200) â†’ shard B


âœ… This is what people usually mean by â€œshardingâ€.

2ï¸âƒ£ Vertical sharding

Split columns or tables.

users_core â†’ shard A
users_profile â†’ shard B


Less common, harder to manage.

What sharding solves

âœ… Handles massive data
âœ… Increases write throughput
âœ… Reduces index size
âœ… Allows parallel queries

What sharding does NOT solve

âŒ Cross-shard joins are hard
âŒ Transactions across shards are painful
âŒ Rebalancing shards is complex
âŒ Application logic becomes more complex

Example in a Rails app
def shard_for(user_id)
  SHARDS[user_id % SHARDS.size]
end

shard = shard_for(user.id)
shard.connection.execute(...)


Rails itself doesnâ€™t shard automatically â€” the app decides.

Sharding vs Replication (important)
Replication	Sharding
Same data on many DBs	Different data on many DBs
Read scaling	Read + write scaling
Failover	Capacity scaling

ğŸ‘‰ Big systems usually use both.

Real-world examples

Instagram â†’ sharded by user_id

Twitter â†’ sharded by user_id

Shopify â†’ sharded by shop_id

Stripe â†’ sharded by account_id

Interview one-liner ğŸ”¥

Sharding is a horizontal scaling technique where a large dataset is split across multiple databases using a shard key so that load and storage scale linearly.