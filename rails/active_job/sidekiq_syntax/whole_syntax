ğŸ§  STEP 0 â€” Why Sidekiq even exists
Problem (without Sidekiq)

Rails by default is synchronous.

UserMailer.welcome_email(user).deliver_now


Rails thread waits:

SMTP connection

Email sending

Network latency

ğŸ‘‰ Slow APIs, bad UX, timeouts.

Solution

Do slow work outside the request-response cycle

Thatâ€™s what background jobs are.

ğŸ§  STEP 1 â€” What is Sidekiq (plain English)

Sidekiq is a background job processor for Ruby that uses Redis as a queue and runs jobs in parallel threads.

Break that down:

Term	Meaning
Background	Not blocking user request
Job	A unit of work
Processor	Executes jobs
Redis	Queue storage
Parallel	Multiple jobs at once
ğŸ§  STEP 2 â€” Life before Sidekiq (synchronous)
User hits API
   â†“
Rails processes request
   â†“
Rails sends email
   â†“
User waits ğŸ˜

ğŸ§  STEP 3 â€” Life with Sidekiq (asynchronous)
User hits API
   â†“
Rails enqueues job to Redis
   â†“
Rails responds immediately ğŸš€
   â†“
Sidekiq worker picks job
   â†“
Job executes

ğŸ§  STEP 4 â€” Core components of Sidekiq
1ï¸âƒ£ Redis (Queue)

Stores jobs

FIFO (first in, first out)

2ï¸âƒ£ Sidekiq Server (Worker process)

Runs separately from Rails

Pulls jobs from Redis

Executes Ruby code

3ï¸âƒ£ Job

Ruby class with perform method

ğŸ§  STEP 5 â€” Install Sidekiq
# Gemfile
gem "sidekiq"

bundle install

ğŸ§  STEP 6 â€” Configure Rails to use Sidekiq
# config/application.rb
config.active_job.queue_adapter = :sidekiq


Now Rails jobs â†’ Sidekiq.

ğŸ§  STEP 7 â€” Start Redis
redis-server


Sidekiq cannot work without Redis.

ğŸ§  STEP 8 â€” Start Sidekiq
bundle exec sidekiq


Now Sidekiq is listening to queues.

ğŸ§  STEP 9 â€” Your first Sidekiq job (from scratch)
Create a worker
# app/workers/hello_worker.rb
class HelloWorker
  include Sidekiq::Worker

  def perform(name)
    puts "Hello #{name}"
  end
end

Enqueue job
HelloWorker.perform_async("Shubham")


ğŸ”¥ Thatâ€™s Sidekiq in its raw form.

ğŸ§  STEP 10 â€” What perform_async does
HelloWorker.perform_async("Shubham")


Actually:

Serializes arguments

Pushes job into Redis

Returns immediately

Sidekiq later calls:

perform("Shubham")

ğŸ§  STEP 11 â€” Sidekiq + Rails way (ActiveJob)

Rails gives a wrapper called ActiveJob.

class WelcomeJob < ApplicationJob
  queue_as :default

  def perform(user_id)
    user = User.find(user_id)
    UserMailer.welcome_email(user).deliver_now
  end
end


Enqueue:

WelcomeJob.perform_later(user.id)


ActiveJob â†’ Sidekiq â†’ Redis â†’ Worker

ğŸ§  STEP 12 â€” Why Action Mailer works without custom job
UserMailer.welcome_email(user).deliver_later


Rails internally enqueues:

ActionMailer::MailDeliveryJob


You donâ€™t write this job â€” Rails provides it.

ğŸ§  STEP 13 â€” Important Sidekiq methods (MUST KNOW)
ğŸ”¹ Enqueue
perform_async
perform_in(5.minutes)
perform_at(1.hour.from_now)

ğŸ”¹ Retry (automatic)

Sidekiq retries failed jobs automatically.

sidekiq_options retry: 5


Default: 25 retries.

ğŸ”¹ Queue
sidekiq_options queue: :mailers


Queues allow prioritization.

ğŸ”¹ Disable retry
sidekiq_options retry: false

ğŸ§  STEP 14 â€” Error handling

If perform raises error:

Job fails

Stored in retry set

Retries with exponential backoff

After retries exhausted:

Goes to Dead Job Queue (DLQ)

ğŸ§  STEP 15 â€” Sidekiq UI

Add route:

# config/routes.rb
require "sidekiq/web"
mount Sidekiq::Web => "/sidekiq"


See:

Queues

Retries

Failures

Scheduled jobs

ğŸ§  STEP 16 â€” Sidekiq vs Rails server
Rails	Sidekiq
Handles HTTP	Handles jobs
Short-lived	Long-running
User-facing	Background
Puma	Sidekiq

They are separate processes.

ğŸ§  STEP 17 â€” Common beginner mistakes

âŒ Forgetting to start Redis
âŒ Using deliver_now inside controller
âŒ Heavy logic inside controller
âŒ Passing full ActiveRecord objects to jobs

âœ… Always pass IDs.

ğŸ§  STEP 18 â€” Interview-ready explanation (memorize)

â€œSidekiq is a Redis-backed background job processor that executes jobs asynchronously using threads.
In Rails, itâ€™s commonly used with ActiveJob to offload slow tasks like emails and API calls.â€

ğŸ§  STEP 19 â€” Mental model (never forget)
perform_async â†’ Redis â†’ Sidekiq â†’ perform


Thatâ€™s it.