1Ô∏è‚É£ Real-life context

Imagine you‚Äôre building a new API endpoint every day, like:

POST /users
GET /posts
PATCH /orders/:id


You need the endpoint to work correctly ‚úÖ

You also want it to behave as expected by clients ‚úÖ

Now, do you treat this as TDD or BDD?

2Ô∏è‚É£ TDD approach

Focus: Implementation correctness

Write unit tests for methods first, then code.

Example (Rails service class)
# tdd: test first
RSpec.describe UserCreator do
  it "creates a new user with valid params" do
    params = { email: "test@example.com", password: "123456" }
    user = UserCreator.new(params).call

    expect(user).to be_persisted
    expect(user.email).to eq("test@example.com")
  end
end


You‚Äôre testing the class/method works correctly

Low-level, developer-focused

Good for internal logic, services, or complex calculations

3Ô∏è‚É£ BDD approach

Focus: Behavior / API outcome

Write specs that describe what API should do from client‚Äôs perspective.

Example (Rails request spec)
RSpec.describe "POST /users", type: :request do
  it "creates a user successfully" do
    post "/users", params: { user: { email: "test@example.com", password: "123456" } }

    expect(response).to have_http_status(:created)
    expect(JSON.parse(response.body)["email"]).to eq("test@example.com")
  end
end


You‚Äôre testing behavior the client expects

High-level, readable

Can serve as documentation for the API

4Ô∏è‚É£ Rule of thumb for APIs
Focus	Use case
TDD	Internal logic: services, models, jobs, calculations
BDD	API endpoints, controllers, features, external behavior

So if you are making a new API endpoint every day:

‚úÖ BDD is recommended for the request/response behavior
‚úÖ You can still use TDD internally for service objects or model methods

5Ô∏è‚É£ TL;DR example

TDD: Test UserCreator service class method for correctness

BDD: Test POST /users endpoint returns 201 + correct JSON

üîë Interview one-liner

When building APIs, use BDD for endpoints and controller behavior to ensure expected client behavior, and TDD for internal classes/services to ensure correct implementation.