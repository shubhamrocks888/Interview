ğŸ”¥ 1ï¸âƒ£ â€œIf frozen string literal is enabled, can I still modify strings?â€

âœ… Yes â€” but not literals directly.

# frozen_string_literal: true

str = "hello"
str << " world"   # âŒ FrozenError


But you can do:

str = "hello".dup
str << " world"   # âœ… works


ğŸ’¡ Interview tip:

String literals are frozen, but dynamically created strings are not.

ğŸ”¥ 2ï¸âƒ£ â€œWhat about string interpolation?â€

This is tricky.

# frozen_string_literal: true

name = "Shubham"
greeting = "Hello #{name}"


ğŸ‘‰ "Hello #{name}" creates a new string at runtime.
It is NOT frozen automatically.

Check:

greeting.frozen?  # => false


ğŸ’¡ Interview insight:

Interpolated strings are created at runtime, so they are not frozen by the magic comment.

ğŸ”¥ 3ï¸âƒ£ â€œDoes this freeze ALL strings?â€

âŒ No.

It only freezes string literals written directly in code.

These are frozen:

"hello"
"world"


These are NOT frozen:

String.new("hello")
"hello #{name}"
params[:name]   # from Rails

ğŸ”¥ 4ï¸âƒ£ â€œWhat happens to object_id?â€

Without freezing:

"hello".object_id == "hello".object_id
# => false


With freezing enabled:

"hello".object_id == "hello".object_id
# => true


ğŸ’¡ Why?
Because Ruby reuses the same object instead of allocating new memory.

Interviewers love this one.

ğŸ”¥ 5ï¸âƒ£ â€œDifference between .freeze, .dup, and .clone?â€
.freeze

Makes object immutable.

.dup

Creates a copy â€” NOT frozen (even if original is frozen).

.clone

Copies object and preserves frozen state.

Example:

str = "hello".freeze

str.dup.frozen?    # => false
str.clone.frozen?  # => true


ğŸ’¡ This is a very strong interview answer.

ğŸ”¥ 6ï¸âƒ£ â€œWhy does Rails enable frozen string literal by default?â€

In modern Ruby on Rails apps:

Huge number of string literals

Lots of constant strings (SQL fragments, routes, JSON keys)

Reduces GC pressure

Improves boot performance

Itâ€™s mainly a memory optimization + safety feature.

ğŸ”¥ 7ï¸âƒ£ â€œCan frozen strings improve thread safety?â€

Interesting one.

Since frozen objects cannot be modified:

They are inherently safer in multi-threaded environments.

No risk of accidental mutation.

ğŸ’¡ Not full thread safety â€” but safer for shared constants.

ğŸ”¥ 8ï¸âƒ£ â€œWhat happens if you modify a constant string?â€
MY_STRING = "hello"

MY_STRING << " world"


Without freezing â€” this modifies the constant value (dangerous).

With freezing â€” raises error.

This prevents subtle production bugs.

ğŸ”¥ 9ï¸âƒ£ â€œIs frozen string literal enabled globally in Ruby?â€

No.

It must be:

Added per file (# frozen_string_literal: true)

Or enabled via Ruby flag (less common)

It is not automatic across all Ruby versions.

ğŸ”¥ 10ï¸âƒ£ Advanced Question: â€œWhy doesnâ€™t Ruby just freeze strings by default?â€

Because Ruby historically allowed mutable strings.
Changing default behavior would break old code.

Thatâ€™s why it was introduced gradually.

ğŸ§  Pro-Level Answer (What Impresses Interviewers)

If they push deeper, say:

Frozen string literals reduce object allocations and GC pressure because Ruby can reuse the same string object. However, interpolated strings and dynamically created strings are still mutable. Also, dup removes frozen state while clone preserves it.

That sounds senior-level.