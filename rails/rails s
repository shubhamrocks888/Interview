ğŸ” Complete rails s boot flow (file-by-file)
Terminal
  â†“
bin/rails
  â†“
railties/lib/rails/cli.rb
  â†“
railties/lib/rails/commands/server/server_command.rb
  â†“
Rails::Server
  â†“
config/application.rb
  â†“
config/boot.rb
  â†“
Bundler.setup
  â†“
Rails::Application.initialize!
  â†“
config/environment.rb
  â†“
config/environments/development.rb
  â†“
Initializers (config/initializers/*)
  â†“
Puma (web server)
  â†“
config.ru
  â†“
Rails.application
  â†“
Rack Middleware Stack
  â†“
config/routes.rb
  â†“
Controller#action
  â†“
Model / DB
  â†“
Response

ğŸ§© Now line-by-line explanation (what each file does)
1ï¸âƒ£ bin/rails

ğŸ“ Entry point

What it does:

Sets Ruby version

Loads Bundler

Hands control to Rails CLI

require_relative "../config/boot"
require "rails/commands"

2ï¸âƒ£ rails/cli.rb

ğŸ“ Command dispatcher

What it does:

Parses rails s

Decides to run server command

3ï¸âƒ£ server_command.rb

ğŸ“ Server command handler

What it does:

Creates Rails::Server

Determines server (Puma)

Prepares Rack app

4ï¸âƒ£ Rails::Server

ğŸ“ Rails server bootstrapper

What it does:

Boots Rails application

Starts web server

5ï¸âƒ£ config/boot.rb

ğŸ“ Bundler setup

What it does:

require "bundler/setup"


Loads gems from Gemfile

Ensures correct gem versions

6ï¸âƒ£ config/application.rb

ğŸ“ Rails app definition

What it does:

Defines class Application < Rails::Application

Configures:

Autoload paths

Middleware

Time zone, etc.

7ï¸âƒ£ Rails.application.initialize!

ğŸ“ Core boot step

What it does:

Runs all initializers

Builds middleware stack

Prepares app for requests

8ï¸âƒ£ config/environment.rb

ğŸ“ Environment loader

What it does:

require_relative "application"
Rails.application.initialize!

9ï¸âƒ£ config/environments/development.rb

ğŸ“ Environment-specific config

What it does:

Caching

Logging

Code reloading

Error pages

ğŸ”Ÿ config/initializers/*

ğŸ“ One-time app setup

What it does:

Devise

Sidekiq

Redis

Custom configs

1ï¸âƒ£1ï¸âƒ£ Puma starts

ğŸ“ Web server

What it does:

Opens port (3000)

Prepares worker/thread pool

1ï¸âƒ£2ï¸âƒ£ config.ru

ğŸ“ Rack entry point

What it does:

run Rails.application


Tells Puma what app to run

1ï¸âƒ£3ï¸âƒ£ Rails.application

ğŸ“ Rack app

Implements:

call(env)


Receives HTTP requests

1ï¸âƒ£4ï¸âƒ£ Rack Middleware Stack

ğŸ“ Cross-cutting concerns

Examples:

Logging

Sessions

Cookies

Authentication

1ï¸âƒ£5ï¸âƒ£ config/routes.rb

ğŸ“ URL dispatcher

What it does:

Maps URL â†’ controller#action

1ï¸âƒ£6ï¸âƒ£ Controller

ğŸ“ Request handler

What it does:

Validations

Business logic

Calls models

1ï¸âƒ£7ï¸âƒ£ Model / DB

ğŸ“ Persistence layer

What it does:

ActiveRecord queries

Transactions

1ï¸âƒ£8ï¸âƒ£ Response

ğŸ“ Back to client

Returns:

[status, headers, body]

ğŸ¯ Ultra-short interview answer

When we run rails s, execution starts from bin/rails, which boots Rails, initializes the application, starts Puma, loads config.ru to mount the Rack app, and then routes incoming requests to controllers via middleware and routes.