rails generate mailer UserMailer

This creates:

app/mailers/user_mailer.rb
app/views/user_mailer/


ğŸ“Œ 3ï¸âƒ£ Basic Mailer Structure
app/mailers/user_mailer.rb

class UserMailer < ApplicationMailer
  default from: "no-reply@ridesapp.com"

  def welcome_email(user)
    @user = user

    mail(
      to: @user.email,
      subject: "Welcome to Rides App"
    )
  end
end

ğŸ“Œ 4ï¸âƒ£ Email Template

Create:
app/views/user_mailer/welcome_email.html.erb

<h1> Welcome <%= @user.name %> </h1>
<p>
	thank you for signing up ride app.
</p>

ğŸ“Œ 5ï¸âƒ£ How to Send Email

From controller or anywhere:
UserMailer.welcome_email(@user).deliver_now

OR async:
 UserMailer.welcome_email(@user).deliver_later


ğŸ“Œ deliver_now vs deliver_later

| Method        | Behavior                        |
| ------------- | ------------------------------- |
| deliver_now   | Sends immediately (blocking)    |
| deliver_later | Sends in background (ActiveJob) |



ğŸ“Œ 6ï¸âƒ£ Configure SMTP (Development Example)
config/environments/development.rb
config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = {
  address: "smtp.gmail.com",
  port: 587,
  user_name: ENV["EMAIL_USERNAME"],
  password: ENV["EMAIL_PASSWORD"],
  authentication: "plain",
  enable_starttls_auto: true
}

ğŸ“Œ 7ï¸âƒ£ For Local Testing (Easier Option)

Instead of real SMTP, use:

config.action_mailer.delivery_method = :letter_opener


Add to Gemfile:

gem "letter_opener"


Emails open in browser instead of sending.

ğŸ“Œ 8ï¸âƒ£ Example for Your Ride App

Letâ€™s say:

When ride is accepted â†’ notify rider.

Mailer:
class RideMailer < ApplicationMailer
  default from: "no-reply@ridesapp.com"

  def ride_accepted(ride)
    @ride = ride
    @rider = ride.rider
    @driver = ride.driver

    mail(
      to: @rider.email,
      subject: "Your Ride Has Been Accepted"
    )
  end
end

Call from controller after accept:
RideMailer.ride_accepted(ride).deliver_later

ğŸ“Œ 9ï¸âƒ£ Plain Text + HTML

You can create:

ride_accepted.html.erb
ride_accepted.text.erb


Rails automatically sends multipart email.

ğŸ¯ What Interviewer Might Ask

If interviewer asks:

How does deliver_later work?

Answer:

It uses ActiveJob

Enqueues job

Background worker (Sidekiq / DelayedJob) sends email

ğŸ§  Important Production Notes

âœ” Never send emails inside transaction before commit
âœ” Use deliver_later
âœ” Use background job processor (Sidekiq)

ğŸš€ Quick Recap

Mailer =

Class inheriting from ApplicationMailer

Method defines email

Template renders body

Call with deliver_now or deliver_later

Now tell me:

Do you want to:

Implement background jobs with Sidekiq?

Send mail after transaction commit properly?

Add attachments?

Add email testing in RSpec?