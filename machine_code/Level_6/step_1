ğŸš— Task 1 â€” Write the Models

You need to create two models only:

User

Ride

Do NOT write controllers yet.
Do NOT write services yet.
Only models + associations + validations.

ğŸ“Œ Instructions
1ï¸âƒ£ User Model
Add fields:

name (string)

role (integer â†’ enum)

Requirements:

Use enum for role

rider

driver

Add validation for:

presence of name

presence of role

Association:

A rider should have many rides

Important:

Donâ€™t overcomplicate with scopes.

Keep it clean.

2ï¸âƒ£ Ride Model
Add fields:

rider_id (foreign key â†’ users)

pickup_lat (float)

pickup_lng (float)

drop_lat (float)

drop_lng (float)

status (integer â†’ enum)

Requirements:

belongs_to :rider

Use enum for status:

requested

Add validations:

presence of rider

presence of pickup_lat

presence of pickup_lng

presence of drop_lat

presence of drop_lng

presence of status

ğŸ§  Important Constraint

When writing:

Use class_name: "User" for rider association

Donâ€™t forget foreign_key if needed

Default status should be requested



####

class User < ApplicationRecord
  has_many :rides, foreign_key: :rider_id, class_name: "Ride"

  enum role: { driver: 0, rider: 1 }

  validates :name, presence: true
  validates :role, presence: true
end


class Ride < ApplicationRecord
  belongs_to :rider, class_name: "User", foreign_key: :rider_id

  enum status: { requested: 0, accepted: 1, completed: 2, cancelled: 3 }

  validates :rider, presence: true
  validates :pickup_lat, presence: true, numericality: true
  validates :pickup_lng, presence: true, numericality: true
  validates :drop_lat, presence: true, numericality: true
  validates :drop_lng, presence: true, numericality: true
  validates :status, presence: true
end
