ðŸ”¹ 1. break â†’ Exit the loop completely

Stops the loop immediately.

loop do
  puts "Hello"
  break
end


It runs once and exits.

You can also return a value:

result = loop do
  break 10
end

puts result  # => 10


break can return a value from the loop.

ðŸ”¹ 2. next â†’ Skip to next iteration

Skips the rest of the current iteration and continues.

5.times do |i|
  next if i == 2
  puts i
end


Output:

0
1
3
4


When i == 2, it skips that iteration.

ðŸ”¹ 3. redo â†’ Repeat the same iteration

Restarts the current iteration without re-checking the condition.

i = 0

while i < 3
  puts i
  i += 1
  redo if i == 2
end


âš  Be careful â€” this can cause infinite loops if misused.

ðŸ”¹ 4. retry (only in rescue now)

retry used to work in loops in old Ruby versions.
Now it's mainly used inside rescue blocks:

begin
  do_something
rescue
  retry
end

ðŸ”¹ 5. return â†’ Exit the entire method

Different from break.

def test
  loop do
    return "Done"
  end
end

puts test


return exits the method, not just the loop.

ðŸ”¥ Quick Comparison

| Keyword  | What it does             |
| -------- | ------------------------ |
| `break`  | Exit loop                |
| `next`   | Skip to next iteration   |
| `redo`   | Repeat current iteration |
| `return` | Exit entire method       |


ðŸ”¹ In Your Referral Code Example
loop do
  self.referral_code = SecureRandom.alphanumeric(8)
  break unless User.exists?(referral_code: referral_code)
end


If you replaced break with:

next â†’ it would loop forever

return â†’ it would exit the method immediately

redo â†’ it would regenerate without checking condition again (dangerous)